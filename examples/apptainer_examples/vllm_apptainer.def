Bootstrap: docker
From: verlai/verl:app-verl0.5-transformers4.55.4-vllm0.10.0-mcore0.13.0-te2.2

%post
    # install additional python packages
    pip install --no-cache-dir pandas==2.2.2 sentence_transformers==5.1.2 bitsandbytes==0.48.2 
    # flashinfer_python==0.2.5 case issues with latest vLLM, so not installing it here
    # these are for GPU and CPU monitoring
    pip install --no-cache-dir psutil
%environment
    # Prevent Python from using user site-packages from /home/<user>/.local
    export PYTHONNOUSERSITE=1
    # Suppress FutureWarning for pynvml
    export PYTHONWARNINGS="ignore::FutureWarning"
    # Prevent xalt bind
    export LD_PRELOAD=

EOF